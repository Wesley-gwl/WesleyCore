function a(){var u=Math.abs(parseInt($(".page-tabs-content").css("margin-left"))),e=f($(".content-tabs").children().not(".J_menuTabs")),i=$(".content-tabs").outerWidth(!0)-e,r=0,n,t;if(i){for(n=$(".J_menuTab:first"),t=0;t+$(n).outerWidth(!0)<=u;)t+=$(n).outerWidth(!0),n=$(n).next();if(t=0,f($(n).prevAll())>i){while(t+$(n).outerWidth(!0)<i&&n.length>0)t+=$(n).outerWidth(!0),n=$(n).prev();r=f($(n).prevAll())}}else return!1;$(".page-tabs-content").animate({marginLeft:0-r+"px"},"fast")}function b(){var u=Math.abs(parseInt($(".page-tabs-content").css("margin-left"))),e=f($(".content-tabs").children().not(".J_menuTabs")),r=$(".content-tabs").outerWidth(!0)-e,i=0,n,t;if($(".page-tabs-content").width()<r)return!1;for(n=$(".J_menuTab:first"),t=0;t+$(n).outerWidth(!0)<=u;)t+=$(n).outerWidth(!0),n=$(n).next();for(t=0;t+$(n).outerWidth(!0)<r&&n.length>0;)t+=$(n).outerWidth(!0),n=$(n).next();i=f($(n).prevAll());i>0&&$(".page-tabs-content").animate({marginLeft:0-i+"px"},"fast")}function i(){$(".page-tabs-content").children("[data-id]").not(":first").not(".active").each(function(){$('.J_iframe[data-id="'+$(this).data("id")+'"]').remove();$(this).remove()});$(".page-tabs-content").css("margin-left","0")}function j(){g($(".J_menuTab.active"))}function e(){if(!$(this).hasClass("active")){var n=$(this).data("id");$(".J_mainContent .J_iframe").each(function(){if($(this).data("id")==n)return $(this).removeClass("ifr-below").siblings(".J_iframe").addClass("ifr-below"),!1});$(this).addClass("active").siblings(".J_menuTab").removeClass("active");g(this)}}function c(){var t=$(this).attr("href"),n=$(this).data("index"),f=$.trim($(this).text()),i=!0,r,u;return t==undefined||$.trim(t).length==0?!1:($(".J_menuTab").each(function(){if($(this).data("id")==n)return $(this).hasClass("active")||($(this).addClass("active").siblings(".J_menuTab").removeClass("active"),g(this),$(".J_mainContent .J_iframe").each(function(){if($(this).data("id")==n)return $(this).removeClass("ifr-below").siblings(".J_iframe").addClass("ifr-below"),!1})),i=!1,!1}),i&&(index=layer.load(2,{shade:[.01,"#fff"]}),r='<a href="javascript:;" class="active J_menuTab" data-id="'+n+'">'+f+' <i class="fa fa-times-circle"><\/i><\/a>',$(".J_menuTab").removeClass("active"),u='<iframe class="J_iframe" name="iframe_'+n+'" width="100%" height="'+height()+'" src="'+t+'" frameborder="0" data-id="'+n+'" seamless onload="z()"><\/iframe>',$(".J_mainContent").find("iframe.J_iframe").addClass("ifr-below").parents(".J_mainContent").append(u),$(".J_menuTabs .page-tabs-content").append(r),g($(".J_menuTab.active"))),!1)}function z(){layer.close(index)}function d(){var n=$('.J_iframe[data-id="'+$(this).data("id")+'"]'),t=n.attr("src")}function x(){$(this).find("i").click()}function h(){var t=$(this).parents(".J_menuTab").data("id"),r=$(this).parents(".J_menuTab").width(),i,n;return $(this).parents(".J_menuTab").hasClass("active")?($(this).parents(".J_menuTab").next(".J_menuTab").size()&&(n=$(this).parents(".J_menuTab").next(".J_menuTab:eq(0)").data("id"),$(this).parents(".J_menuTab").next(".J_menuTab:eq(0)").addClass("active"),$(".J_mainContent .J_iframe").each(function(){if($(this).data("id")==n)return $(this).removeClass("ifr-below").siblings(".J_iframe").addClass("ifr-below"),!1}),i=parseInt($(".page-tabs-content").css("margin-left")),i<0&&$(".page-tabs-content").animate({marginLeft:i+r+"px"},"fast"),$(this).parents(".J_menuTab").remove(),$(".J_mainContent .J_iframe").each(function(){if($(this).data("id")==t)return $(this).remove(),!1})),$(this).parents(".J_menuTab").prev(".J_menuTab").size()&&(n=$(this).parents(".J_menuTab").prev(".J_menuTab:last").data("id"),$(this).parents(".J_menuTab").prev(".J_menuTab:last").addClass("active"),$(".J_mainContent .J_iframe").each(function(){if($(this).data("id")==n)return $(this).removeClass("ifr-below").siblings(".J_iframe").addClass("ifr-below"),!1}),$(this).parents(".J_menuTab").remove(),$(".J_mainContent .J_iframe").each(function(){if($(this).data("id")==t)return $(this).remove(),!1}),g($(".J_menuTab.active")))):($(this).parents(".J_menuTab").remove(),$(".J_mainContent .J_iframe").each(function(){if($(this).data("id")==t)return $(this).remove(),!1}),g($(".J_menuTab.active"))),!1}function f(n){var t=0;return $(n).each(function(){t+=$(this).outerWidth(!0)}),t}function g(n){var u=f($(n).prevAll()),e=f($(n).nextAll()),o=f($(".content-tabs").children().not(".J_menuTabs")),i=$(".content-tabs").outerWidth(!0)-o,t=0,r;if($(".page-tabs-content").outerWidth()<i)t=0;else if(e<=i-$(n).outerWidth(!0)-$(n).next().outerWidth(!0)){if(i-$(n).next().outerWidth(!0)>e)for(t=u,r=n;t-$(r).outerWidth()>$(".page-tabs-content").outerWidth()-i;)t-=$(r).prev().outerWidth(),r=$(r).prev()}else u>i-$(n).outerWidth(!0)-$(n).prev().outerWidth(!0)&&(t=u-$(n).prev().outerWidth(!0));$(".page-tabs-content").animate({marginLeft:0-t+"px"},"fast")}function setIframeHeight(){var n=$("iframe.J_iframe");n.each(function(){$(this).height(height)})}function addNewTabItem(n){var i=n.href,t=n.id,e=n.name,r=!0,u,f;return i==undefined||$.trim(i).length==0?!1:($(".J_menuTab").each(function(){if($(this).data("id")==t)return $(this).removeClass("active").addClass("active").siblings(".J_menuTab").removeClass("active"),g(this),$(".J_mainContent .J_iframe").each(function(){if($(this).data("id")==t)return $(this).removeClass("ifr-below").siblings(".J_iframe").addClass("ifr-below"),$(this).attr("src",i),!1}),r=!1,!1}),r&&(index=layer.load(2,{shade:[.01,"#fff"]}),u='<a href="javascript:;" class="active J_menuTab" data-id="'+t+'">'+e+' <i class="fa fa-times-circle"><\/i><\/a>',$(".J_menuTab").removeClass("active"),f='<iframe class="J_iframe" name="iframe_'+t+'" width="100%" height="'+height()+'" src="'+i+'" frameborder="0" data-id="'+t+'" seamless onload="z()"><\/iframe>',$(".J_mainContent").find("iframe.J_iframe").addClass("ifr-below").parents(".J_mainContent").append(f),$(".J_menuTabs .page-tabs-content").append(u),g($(".J_menuTab.active"))),!1)}function calljs(n,t){var i=$("iframe.J_iframe:not(.ifr-below)")[0];typeof i.contentWindow.eval(n)=="function"&&i.contentWindow.eval(n).call(this,t)}function onInOutCodeRead(n){$.post("/api/car/checkcode",{rawCode:n})}var height,index;window.onresize=setIframeHeight;$(function(){setIframeHeight();$(".J_menuItem").on("click",c);$(".J_menuTabs").on("click",".J_menuTab i",h);$(".J_tabCloseOther").on("click",i);$(".J_tabShowActive").on("click",j);$(".J_menuTabs").on("click",".J_menuTab",e);$(".J_menuTabs").on("dblclick",".J_menuTab",x);$(".J_tabLeft").on("click",a);$(".J_tabRight").on("click",b);$(".J_tabCloseAll").on("click",function(){$(".page-tabs-content").children("[data-id]").not(":first").each(function(){$('.J_iframe[data-id="'+$(this).data("id")+'"]').remove();$(this).remove()});$(".page-tabs-content").children("[data-id]:first").each(function(){$('.J_iframe[data-id="'+$(this).data("id")+'"]').removeClass("ifr-below");$(this).addClass("active")});$(".page-tabs-content").css("margin-left","0")})});height=function(){return document.body.clientHeight-115};